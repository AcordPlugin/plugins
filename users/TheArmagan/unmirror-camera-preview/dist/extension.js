(function(l,u,c,f,i){"use strict";function t(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var m=t(l),v=t(u),o=t(c);const s=o.default.findByProps("videoContain","video","mirror"),a=o.default.findByProps("media","video","mirror");var p={load(){f.subscriptions.push(m.default.patch(".media-engine-video",r=>{let d=v.default.react.getProps(r,e=>e?.streamId)?.streamId;if(!d||Object.entries(i.VideoStreamStore.__getLocalVars().userStreams||{}).find(e=>e[1]?.default?.streamId===d)?.[0]!==i.UserStore.getCurrentUser().id)return;let n=r.classList.contains(s.mirror);if(n)return r.classList.remove(s.mirror),()=>{n&&r.classList.add(s.mirror)};{let e=acord.dom.parents(r,'[class*="video-"]')?.[0];if(e){let _=e.classList.contains(a.mirror);return e.classList.remove(a.mirror),()=>{_&&e.classList.add(a.mirror)}}}},!0))},unload(){}};return p})(acord.dom,acord.utils,acord.modules.webpack,acord.extension,acord.modules.common);
