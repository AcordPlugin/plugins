(function(n,c,e){"use strict";function l(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var u=l(c);const f=/<(a)?:?([^:]{2,})+:(\d+)>/g;var p={load(){n.subscriptions.push(u.default.instead("sendMessage",e.MessageActions,async function(t,r){let a=e.SelectedGuildStore.getGuildId();return t[1]&&t[1].content&&(t[1].invalidEmojis=[],t[1].validNonShortcutEmojis=t[1].validNonShortcutEmojis.filter(i=>!i.available),t[1].content=t[1].content.replace(f,(i,m,d,o)=>{if(!d.trim())return i;let s=e.EmojiStore.getCustomEmojiById(o);return s&&!s.animated&&a&&s.guildId==a?i:`<${m=="a"?"a;":""}${d};${o}>`}).trim()),r.call(this,...t)})),n.subscriptions.push(u.default.instead("canUseEmojisEverywhere",e.PremiumActions,async function(t,r){return!0})),n.subscriptions.push(u.default.instead("canUseAnimatedEmojis",e.PremiumActions,async function(t,r){return!0}))},unload(){}};return p})(acord.extension,acord.patcher,acord.modules.common);
